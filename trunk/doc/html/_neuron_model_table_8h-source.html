<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>EDLUTKernel: src/spike/include/NeuronModelTable.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>src/spike/include/NeuronModelTable.h</h1><a href="_neuron_model_table_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef NEURONMODELTABLE_H_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define NEURONMODELTABLE_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00014"></a><a class="code" href="_neuron_model_table_8h.html#ec518d6a0e266d7ea3b3e200fa3f6a52">00014</a> <span class="preprocessor">#define last_coord(dim) ((dim)-&gt;coord[(dim)-&gt;size-1])</span>
<a name="l00015"></a><a class="code" href="_neuron_model_table_8h.html#562540957f9ceca6889f5e6f30845a19">00015</a> <span class="preprocessor"></span><span class="preprocessor">#define table_indcomp(dim,coo) (((coo)&gt;last_coord(dim))?((dim)-&gt;size-1):(((coo)&lt;(dim)-&gt;vfirst)?0:((dim)-&gt;vindex[(int)( ((coo) - (dim)-&gt;vfirst) / (dim)-&gt;vscale + 0.49) ])))</span>
<a name="l00016"></a><a class="code" href="_neuron_model_table_8h.html#989574d9dd9eae90092520415b97063f">00016</a> <span class="preprocessor"></span><span class="preprocessor">#define table_indcomp2(dim,coo) (((coo)&gt;last_coord(dim))?((dim)-&gt;size-1):(((coo)&lt;(dim)-&gt;vfirst)?0:((dim)-&gt;vindex[(int)( ((coo) - (dim)-&gt;vfirst) / (dim)-&gt;vscale + 0.5 + (dim)-&gt;voffset[(int)( ((coo) - (dim)-&gt;vfirst) / (dim)-&gt;vscale + 0.5) ] ) ])))</span>
<a name="l00017"></a><a class="code" href="_neuron_model_table_8h.html#2045481d4952f9fc956b7a45e28e132e">00017</a> <span class="preprocessor"></span><span class="preprocessor">#define table_ind_int(dim,coo) ((dim)-&gt;vindex[(int)( ((coo) - (dim)-&gt;vfirst) / (dim)-&gt;vscale + ((dim)-&gt;voffset[(int)( ((coo) - (dim)-&gt;vfirst) / (dim)-&gt;vscale) ])) ])</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;cstdio&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include "<a class="code" href="_e_d_l_u_t_file_exception_8h.html">./EDLUTFileException.h</a>"</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include "../../simulation/include/Configuration.h"</span>
<a name="l00026"></a>00026 
<a name="l00040"></a><a class="code" href="class_neuron_model_table.html">00040</a> <span class="keyword">class </span><a class="code" href="class_neuron_model_table.html" title="Precalculated table of a neuron model.">NeuronModelTable</a> {
<a name="l00041"></a>00041         
<a name="l00042"></a>00042         <span class="keyword">public</span>:
<a name="l00043"></a>00043         
<a name="l00056"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html">00056</a>                 <span class="keyword">class </span><a class="code" href="class_neuron_model_table_1_1_table_dimension.html" title="Dimension of a neuron model table.">TableDimension</a> {
<a name="l00057"></a>00057                         
<a name="l00058"></a>00058                         <span class="keyword">public</span>:
<a name="l00059"></a>00059                         
<a name="l00063"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#bab88e4b7c9a1d13b987b83c991319a5">00063</a>                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_neuron_model_table_1_1_table_dimension.html#bab88e4b7c9a1d13b987b83c991319a5">size</a>;
<a name="l00064"></a>00064                         
<a name="l00068"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#6165c4ff7b3b073d88987e93a3892e1b">00068</a>                                 <span class="keywordtype">float</span> *<a class="code" href="class_neuron_model_table_1_1_table_dimension.html#6165c4ff7b3b073d88987e93a3892e1b">coord</a>;
<a name="l00069"></a>00069                         
<a name="l00073"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#7a37c797d5838820d67686cb134e8c8e">00073</a>                                 <span class="keywordtype">int</span> *<a class="code" href="class_neuron_model_table_1_1_table_dimension.html#7a37c797d5838820d67686cb134e8c8e">vindex</a>;
<a name="l00074"></a>00074                         
<a name="l00078"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#55aa1b497fe16d3084a4cf75cb93105e">00078</a>                                 <span class="keywordtype">float</span> *<a class="code" href="class_neuron_model_table_1_1_table_dimension.html#55aa1b497fe16d3084a4cf75cb93105e">voffset</a>;
<a name="l00079"></a>00079                         
<a name="l00083"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#187c65c700dc0b901b66a33f9a809faa">00083</a>                                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table_1_1_table_dimension.html#187c65c700dc0b901b66a33f9a809faa">vscale</a>;
<a name="l00084"></a>00084                                 
<a name="l00088"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#d9fa25b48a2a0d63a833299b6f879924">00088</a>                                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table_1_1_table_dimension.html#d9fa25b48a2a0d63a833299b6f879924">vfirst</a>;
<a name="l00089"></a>00089                         
<a name="l00093"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#bc6e251784ade97b2a63c2af2f266e60">00093</a>                                 <span class="keywordtype">int</span> <a class="code" href="class_neuron_model_table_1_1_table_dimension.html#bc6e251784ade97b2a63c2af2f266e60">statevar</a>;
<a name="l00094"></a>00094                         
<a name="l00104"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#dbfdb51d0ea4ad37bfd6a7f9ac182998">00104</a>                                 <span class="keywordtype">int</span> <a class="code" href="class_neuron_model_table_1_1_table_dimension.html#dbfdb51d0ea4ad37bfd6a7f9ac182998">interp</a>;
<a name="l00105"></a>00105                         
<a name="l00109"></a><a class="code" href="class_neuron_model_table_1_1_table_dimension.html#7890b4776c5ea46908ec6b018792bc14">00109</a>                                 <span class="keywordtype">int</span> <a class="code" href="class_neuron_model_table_1_1_table_dimension.html#7890b4776c5ea46908ec6b018792bc14">nextintdim</a>;
<a name="l00110"></a>00110                                 
<a name="l00116"></a>00116                                 <a class="code" href="class_neuron_model_table_1_1_table_dimension.html#c4b3e1facf802418ec3fd575b1797285" title="Default constructor.">TableDimension</a>();
<a name="l00117"></a>00117                                 
<a name="l00123"></a>00123                                 <a class="code" href="class_neuron_model_table_1_1_table_dimension.html#2a917fd05f397dcb7d0f0e0c9f301d88" title="Class destructor.">~TableDimension</a>();
<a name="l00124"></a>00124                 };
<a name="l00125"></a>00125                 
<a name="l00131"></a>00131                 <a class="code" href="class_neuron_model_table.html#25ee1166bf5c151df77866078ea7b8e9" title="Default constructor.">NeuronModelTable</a>();
<a name="l00132"></a>00132                 
<a name="l00138"></a>00138                 <a class="code" href="class_neuron_model_table.html#6f6d0fd3edfa10e5386dda20cf58ef37" title="Class destructor.">~NeuronModelTable</a>();
<a name="l00139"></a>00139                 
<a name="l00152"></a>00152                 <span class="keywordtype">void</span> <a class="code" href="class_neuron_model_table.html#7c8ac3e756a31ff8437bf8370feb4151" title="It loads a neuron model table.">LoadTable</a>(FILE *fd) <span class="keywordflow">throw</span> (<a class="code" href="class_e_d_l_u_t_exception.html" title="Exception in the simulation process.">EDLUTException</a>);
<a name="l00153"></a>00153                 
<a name="l00166"></a>00166                 <span class="keywordtype">void</span> <a class="code" href="class_neuron_model_table.html#3742ef43fcba56b6d4b8488ebd4dab12" title="It loads the table description from a file.">LoadTableDescription</a>(FILE *fh, <span class="keywordtype">long</span> &amp; Currentline) <span class="keywordflow">throw</span> (<a class="code" href="class_e_d_l_u_t_file_exception.html" title="Exception reading/writting files.">EDLUTFileException</a>);
<a name="l00167"></a>00167                 
<a name="l00168"></a>00168                 <span class="comment">//void TableInfo();</span>
<a name="l00169"></a>00169                 
<a name="l00179"></a>00179                 <a class="code" href="class_neuron_model_table_1_1_table_dimension.html" title="Dimension of a neuron model table.">TableDimension</a> <a class="code" href="class_neuron_model_table.html#17d338889691ea2a23ded8001b01cafe" title="It gets a table dimension.">GetDimensionAt</a>(<span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l00180"></a>00180                 
<a name="l00189"></a>00189                 <span class="keywordtype">void</span> <a class="code" href="class_neuron_model_table.html#922f4b89ddf8accf2b03c516276ca2d1" title="It sets a table dimension.">SetDimensionAt</a>(<span class="keywordtype">int</span> index, <a class="code" href="class_neuron_model_table_1_1_table_dimension.html" title="Dimension of a neuron model table.">TableDimension</a> Dimension);
<a name="l00190"></a>00190                 
<a name="l00198"></a>00198                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_neuron_model_table.html#9ab523d8c209e67ee443d888ecd47ce6" title="It gets the number of dimensions.">GetDimensionNumber</a>() <span class="keyword">const</span>;
<a name="l00199"></a>00199                 
<a name="l00209"></a>00209                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table.html#98cbbd966939fd27a6996a03c42278fd" title="It gets an element of the table.">GetElementAt</a>(<span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l00210"></a>00210                 
<a name="l00219"></a>00219                 <span class="keywordtype">void</span> <a class="code" href="class_neuron_model_table.html#127002beeeecb114bef8e64044cd05aa" title="It sets an element of the table.">SetElementAt</a>(<span class="keywordtype">int</span> index, <span class="keywordtype">float</span> Element);
<a name="l00220"></a>00220                 
<a name="l00228"></a>00228                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_neuron_model_table.html#edd5adf268e41d47239185d2fc8a0d6b" title="It gets the number of elements.">GetElementsNumber</a>() <span class="keyword">const</span>;
<a name="l00229"></a>00229                 
<a name="l00230"></a>00230                 <span class="comment">/*int GetInterpolation() const;</span>
<a name="l00231"></a>00231 <span class="comment">                </span>
<a name="l00232"></a>00232 <span class="comment">                void SetInterpolation(int Interpolation);*/</span>
<a name="l00233"></a>00233                 
<a name="l00244"></a>00244                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table.html#cf8521aeed37cb1f3c9264e0001b5ca1" title="It gets the table value.">TableAccess</a>(<span class="keywordtype">float</span> *statevars);
<a name="l00245"></a>00245                 
<a name="l00246"></a>00246                 
<a name="l00247"></a>00247         <span class="keyword">private</span>:
<a name="l00248"></a>00248         
<a name="l00252"></a><a class="code" href="class_neuron_model_table.html#cfc9a0e88e25c8d543a3bf2a4e8081ac">00252</a>                 <span class="keyword">typedef</span> float (<a class="code" href="class_neuron_model_table.html" title="Precalculated table of a neuron model.">NeuronModelTable</a>::*<a class="code" href="class_neuron_model_table.html#cfc9a0e88e25c8d543a3bf2a4e8081ac">function</a>) (<span class="keywordtype">float</span> statevars[<a class="code" href="_configuration_8h.html#dcb23aa5346c4dc73491e58982ed4399">MAXSTATEVARS</a>]);
<a name="l00253"></a>00253                 
<a name="l00257"></a><a class="code" href="class_neuron_model_table.html#591181d4437c4e22611111d698c0c60a">00257</a>                 <span class="keywordtype">void</span> *<a class="code" href="class_neuron_model_table.html#591181d4437c4e22611111d698c0c60a">elems</a>;
<a name="l00258"></a>00258    
<a name="l00262"></a><a class="code" href="class_neuron_model_table.html#e29f588a5f5a3680d2f420e0d437a9eb">00262</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_neuron_model_table.html#e29f588a5f5a3680d2f420e0d437a9eb">ndims</a>;
<a name="l00263"></a>00263                 
<a name="l00267"></a><a class="code" href="class_neuron_model_table.html#791fbfa5c36c27e2a260cd20e44faa6c">00267</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_neuron_model_table.html#791fbfa5c36c27e2a260cd20e44faa6c">nelems</a>;
<a name="l00268"></a>00268                 
<a name="l00272"></a><a class="code" href="class_neuron_model_table.html#1c7ad343ab82afdee0e01907d41802d7">00272</a>                 <a class="code" href="class_neuron_model_table_1_1_table_dimension.html" title="Dimension of a neuron model table.">TableDimension</a> <a class="code" href="class_neuron_model_table.html#1c7ad343ab82afdee0e01907d41802d7">dims</a>[<a class="code" href="_configuration_8h.html#dcb23aa5346c4dc73491e58982ed4399">MAXSTATEVARS</a>];
<a name="l00273"></a>00273                 
<a name="l00277"></a><a class="code" href="class_neuron_model_table.html#d15906b3db61ebaf25dc703aec2faa26">00277</a>                 <span class="keywordtype">int</span> <a class="code" href="class_neuron_model_table.html#d15906b3db61ebaf25dc703aec2faa26">interp</a>;
<a name="l00278"></a>00278                 
<a name="l00282"></a><a class="code" href="class_neuron_model_table.html#d917141cf46433478eb64a4a9a6defe5">00282</a>                 <span class="keywordtype">int</span> <a class="code" href="class_neuron_model_table.html#d917141cf46433478eb64a4a9a6defe5">firstintdim</a>;
<a name="l00283"></a>00283                 
<a name="l00292"></a>00292                 <span class="keywordtype">void</span> <a class="code" href="class_neuron_model_table.html#57608cccbd8fe17188ee723ae0f61a8e" title="It generates the virtual coordinates of the table.">GenerateVirtualCoordinates</a>() throw (<a class="code" href="class_e_d_l_u_t_exception.html" title="Exception in the simulation process.">EDLUTException</a>);
<a name="l00293"></a>00293                 
<a name="l00303"></a>00303                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table.html#a7474b2d4aa331e5a14559677b1d6d43" title="It gets a table value without interpolation.">TableAccessDirect</a>(<span class="keywordtype">float</span> statevars[<a class="code" href="_configuration_8h.html#dcb23aa5346c4dc73491e58982ed4399">MAXSTATEVARS</a>]);
<a name="l00304"></a>00304                 
<a name="l00314"></a>00314                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table.html#9b175b98a041ca926968d3e01600c305" title="It gets a table value with bilinear interpolation.">TableAccessInterpBi</a>(<span class="keywordtype">float</span> statevars[MAXSTATEVARS]);
<a name="l00315"></a>00315                 
<a name="l00325"></a>00325                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table.html#5755f61e39bc3c4ccb2cd58b94ae461a" title="It gets a table value with linear interpolation.">TableAccessInterpLi</a>(<span class="keywordtype">float</span> statevars[MAXSTATEVARS]);
<a name="l00326"></a>00326                 
<a name="l00336"></a>00336                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table.html#804cde670e10200858206f04b0164a73" title="It gets a table value with linear-ex interpolation.">TableAccessInterpLiEx</a>(<span class="keywordtype">float</span> statevars[MAXSTATEVARS]);
<a name="l00337"></a>00337                 
<a name="l00347"></a>00347                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table.html#afe5fe576e5fe4a76557106695a97e3b" title="It gets a table value with linear interpolation from 2 different positions.">TableAccessInterp2Li</a>(<span class="keywordtype">float</span> statevars[MAXSTATEVARS]);
<a name="l00348"></a>00348                 
<a name="l00358"></a>00358                 <span class="keywordtype">float</span> <a class="code" href="class_neuron_model_table.html#21e394ca2dad262fc73eb7de1f9af39b" title="It gets a table value with linear interpolation from n different positions.">TableAccessInterpNLi</a>(<span class="keywordtype">float</span> statevars[MAXSTATEVARS]);
<a name="l00359"></a>00359         
<a name="l00360"></a>00360 };
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="preprocessor">#endif </span><span class="comment">/*NEURONMODELTABLE_H_*/</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Tue Feb 17 19:40:40 2009 for EDLUTKernel by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
